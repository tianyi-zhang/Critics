<pre id="debug"> </pre>
<script language="JavaScript" type="text/javascript">
function $(e){return document.getElementById(e)}function InitDragDrop(){document.onmousedown=OnMouseDown;document.onmouseup=OnMouseUp}function OnMouseDown(e){if(e==null)e=window.event;var t=e.target!=null?e.target:e.srcElement;_debug.innerHTML=t.className=="drag"?"draggable element clicked":"NON-draggable element clicked";if((e.button==1&&window.event!=null||e.button==0)&&t.className=="drag"){_startX=e.clientX;_startY=e.clientY;_offsetX=ExtractNumber(t.style.left);_offsetY=ExtractNumber(t.style.top);_oldZIndex=t.style.zIndex;t.style.zIndex=1e4;_dragElement=t;document.onmousemove=OnMouseMove;document.body.focus();document.onselectstart=function(){return false};t.ondragstart=function(){return false};return false}}function ExtractNumber(e){var t=parseInt(e);return t==null||isNaN(t)?0:t}function OnMouseMove(e){if(e==null)var e=window.event;_dragElement.style.left=_offsetX+e.clientX-_startX+"px";_dragElement.style.top=_offsetY+e.clientY-_startY+"px";_debug.innerHTML="("+_dragElement.style.left+", "+_dragElement.style.top+")"}function OnMouseUp(e){if(_dragElement!=null){_dragElement.style.zIndex=_oldZIndex;document.onmousemove=null;document.onselectstart=null;_dragElement.ondragstart=null;_dragElement=null;_debug.innerHTML="mouse up"}}var _startX=0;var _startY=0;var _offsetX=0;var _offsetY=0;var _dragElement;var _oldZIndex=0;var _debug=$("debug");InitDragDrop()
</script>
